import{j as c,g as N}from"./turns.4589a0ea.js";import{r as f}from"./index.72123234.js";import{C as A,a as w,P as v,A as j,L as S,B as E,p as C,b as T,c as y,d as M,f as G,g as J}from"./index.f8b4ff70.js";import{a as L,o as q}from"./options.f2ef4408.js";const h=[{cc:1033747211,name:"LORENA RINCON",sucursal:"Bogotá",turns:""},{cc:1022349157,name:"ALEJANDRA CUBIDES",sucursal:"Bogotá",turns:""},{cc:1014199690,name:"LEIDY RODRIGUEZ",sucursal:"Bogotá",turns:""},{cc:52188010,name:"CLAUDIA PERILLA",sucursal:"Bogotá",turns:""},{cc:52655240,name:"ANA CECILIA MORERA",sucursal:"Bogotá",turns:""},{cc:80828401,name:"OSCAR DIAZ",sucursal:"Bogotá",turns:""},{cc:11435721,name:"FLAVIO SILVA",sucursal:"Bogotá",turns:""},{cc:1022370278,name:"VANNESA JIMENE",sucursal:"Bogotá",turns:""},{cc:1030625331,name:"PAOLA GONZALEZ",sucursal:"Bogotá",turns:""},{cc:1030661456,name:"DANIELA CUENCA",sucursal:"Bogotá",turns:""},{cc:80239145,name:"ANDY VARGAS",sucursal:"Bogotá",turns:""},{cc:1014227435,name:"CAMILO MORENO",sucursal:"Bogotá",turns:""},{cc:1030653936,name:"TATIANA RAMIREZ",sucursal:"Bogotá",turns:""},{cc:1032493785,name:"LISETH PRIETO",sucursal:"Bogotá",turns:""},{cc:1024476502,name:"OSCAR EDUARDO PORRAS",sucursal:"Bogotá",turns:""},{cc:1000121072,name:"BRYAN VARGAS",sucursal:"Bogotá",turns:""},{cc:10239788254,name:"KEVIN LEÓN",sucursal:"Bogotá",turns:""},{cc:1023028357,name:"ADRIANA CRUZ",sucursal:"Bogotá",turns:""},{cc:1111111111,name:"Usuario Operaciones",sucursal:"Bogotá",turns:""},{cc:1099544827,name:"YIS MORENO",sucursal:"Tunja",turns:""},{cc:40023301,name:"BETTY PEROLLA",sucursal:"Tunja",turns:""},{cc:1049608012,name:"JENNY SALINAS",sucursal:"Tunja",turns:""}];A.register(w,v,j,S,E,C,T,y);function I(n,r,u,i){const a=new Date;let s=a.getFullYear(),o=i===0?a.getMonth()+1:a.getMonth(),l;o==0?(s=a.getFullYear()-1,l=r.filter(e=>Number(e.date.split("-")[1])===12&&Number(e.date.split("-")[0])===s)):l=r.filter(e=>Number(e.date.split("-")[1])===o&&Number(e.date.split("-")[0])===s),i==2&&(o=a.getMonth()-1,o<0?l=r.filter(e=>Number(e.date.split("-")[1])>=12+o):l=r.filter(e=>Number(e.date.split("-")[1])>=o));let d=[];for(const e of n)e.sucursal===u&&(e.turns=l.filter(g=>g.adviser==e.cc).length,d.push(e));return d}function W({name:n,time:r}){const[u,i]=f.useState([]);f.useEffect(()=>{async function e(){const g=await N();i(g.data)}e()},[]);const[a,s]=f.useState(I(h,u,n,r));f.useEffect(()=>{s(I(h,u,n,r))},[n,r,u]);const o=a.map(e=>e.name),l=a.map(e=>e.turns),d={labels:o,datasets:[{data:l,backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(183, 46, 168, 0.5)","rgba(72, 209, 168, 0.5)","rgba(12, 22, 34, 0.5)","rgba(45, 112, 232, 0.5)","rgba(220, 19, 0, 0.5)","rgba(22, 67, 111, 0.5)"],borderColor:["rgba(255, 99, 132)","rgba(183, 46, 168)","rgba(72, 209, 168)","rgba(72, 209, 0)","rgba(220, 19, 0)","rgba(255, 99, 132)","rgba(183, 46, 168)","rgba(72, 209, 168)"],borderWidth:2}]};return c.jsxs("div",{className:"w-full flex flex-col items-center gap-5 p-10",children:[c.jsx("p",{className:"text-white w-98 font-light",children:"En esta grafica podemos encontrar el numero de turnos tomados por cada uno de nuestros asesores en su sucursal."}),c.jsxs("div",{className:"flex flex-col justify-center items-center border-2 p-5 rounded-lg w-[90%] h-auto",children:[c.jsx("h4",{className:"text-white font-bold",children:"Cantidad de turnos tomados por cada Asesor"}),c.jsx(M,{data:d,options:L})]})]})}A.register(w,v,j,S,E,C,T,y);function H({name:n,time:r}){const i=h.filter(t=>t.sucursal===n).map(t=>t.name),[a,s]=f.useState([]);f.useEffect(()=>{async function t(){const m=await N();s(m.data)}t()},[]);const[o,l]=f.useState(_(h,a,n,r)),[d,e]=f.useState(o);f.useEffect(()=>{let t=_(h,a,n,r);l(t)},[n,r,a]),f.useEffect(()=>{let t=K(o);e(t)},[o]);const g={labels:i,datasets:[{label:"Si",data:d[0],backgroundColor:"rgba(54, 162, 235, 0.8)"},{label:"No",data:d[1],backgroundColor:"rgba(255, 99, 132, 0.8)"}]};return c.jsxs("div",{className:"w-full flex flex-col items-center gap-5 p-10",children:[c.jsxs("p",{className:"text-white font-light",children:["Evaluamos si la solicitud realizada por nuestros ",c.jsx("strong",{className:"font-bold",children:"asociados"})," fue resuelta por nuestros ",c.jsx("strong",{className:"font-bold",children:"asesores"}),"."]}),c.jsxs("div",{className:"flex flex-col justify-center items-center border-2 p-5 rounded-lg w-[95%] h-auto",children:[c.jsx("h4",{className:"text-white font-bold",children:"Calificación de solución de la Solicitud"}),c.jsx(M,{data:g,options:L})]})]})}function K(n){let r=[],u=[];for(const i of n)r.push(i[0]),u.push(i[1]);return[r,u]}function _(n,r,u,i){const a=new Date;let s=a.getFullYear(),o=i===0?a.getMonth()+1:a.getMonth(),l;o==0?(s=a.getFullYear()-1,l=r.filter(e=>Number(e.date.split("-")[1])===12&&Number(e.date.split("-")[0])===s)):l=r.filter(e=>Number(e.date.split("-")[1])===o&&Number(e.date.split("-")[0])===s),i==2&&(o=a.getMonth()-1,o<0?l=r.filter(e=>Number(e.date.split("-")[1])>=12+o):l=r.filter(e=>Number(e.date.split("-")[1])>=o));let d=[];for(const e of n)if(e.sucursal===u){let g=[l.filter(t=>t.adviser==e.cc&&t.score_att==="Si").length,l.filter(t=>t.adviser==e.cc&&t.score_att==="No").length];d.push(g)}return d}A.register(w,v,j,S,E,C,T,y);function Q({name:n,time:r}){const i=h.filter(t=>t.sucursal===n).map(t=>t.name),[a,s]=f.useState([]);f.useEffect(()=>{async function t(){const m=await N();s(m.data)}t()},[]);const[o,l]=f.useState(Y(h,a,n,r)),[d,e]=f.useState(o);f.useEffect(()=>{let t=Y(h,a,n,r);l(t)},[n,r,a]),f.useEffect(()=>{let t=X(o);e(t)},[o]);const g={labels:i,datasets:[{label:"Si",data:d[0],backgroundColor:"rgba(54, 162, 235, 0.8)"},{label:"Tal vez",data:d[1],backgroundColor:"rgba(255, 206, 86, 0.8)"},{label:"No",data:d[2],backgroundColor:"rgba(255, 99, 132, 0.8)"}]};return c.jsxs("div",{className:"w-full flex flex-col items-center gap-5 p-10",children:[c.jsxs("p",{className:"text-white font-light",children:["Queremos saber si nuestros ",c.jsx("strong",{className:"font-bold",children:"Asociados recomendarian"})," a un amigo o conocido a ser parte de nuestra familia."]}),c.jsxs("div",{className:"flex flex-col justify-center items-center border-2 p-5 rounded-lg w-[95%]",children:[c.jsx("h4",{className:"text-white font-bold",children:"Recomendación de nuestros Asociados a un amigo o conocido."}),c.jsx(M,{data:g,options:L})]})]})}function X(n){let r=[],u=[],i=[];for(const a of n)r.push(a[0]),u.push(a[1]),i.push(a[2]);return[r,u]}function Y(n,r,u,i){const a=new Date;let s=a.getFullYear(),o=i===0?a.getMonth()+1:a.getMonth(),l;o==0?(s=a.getFullYear()-1,l=r.filter(e=>Number(e.date.split("-")[1])===12&&Number(e.date.split("-")[0])===s)):l=r.filter(e=>Number(e.date.split("-")[1])===o&&Number(e.date.split("-")[0])===s),i==2&&(o=a.getMonth()-1,o<0?l=r.filter(e=>Number(e.date.split("-")[1])>=12+o):l=r.filter(e=>Number(e.date.split("-")[1])>=o));let d=[];for(const e of n)if(e.sucursal===u){let g=[l.filter(t=>t.adviser==e.cc&&t.score_recommen==="Si").length,l.filter(t=>t.adviser==e.cc&&t.score_recommen==="Tal vez").length,l.filter(t=>t.adviser==e.cc&&t.score_recommen==="No").length];d.push(g)}return d}A.register(w,v,j,S,E,C,T,y);function ee({name:n,time:r}){const i=h.filter(t=>t.sucursal===n).map(t=>t.name),[a,s]=f.useState([]);f.useEffect(()=>{async function t(){const m=await N();s(m.data)}t()},[]);const[o,l]=f.useState(F(h,a,n,r)),[d,e]=f.useState(o);f.useEffect(()=>{let t=F(h,a,n,r);l(t)},[n,r,a]),f.useEffect(()=>{let t=te(o);e(t)},[o]);const g={labels:i,datasets:[{label:"Excelente",data:d[0],backgroundColor:"rgba(54, 162, 235, 0.8)"},{label:"Buena",data:d[1],backgroundColor:"rgba(153, 102, 255, 0.8)"},{label:"Normal",data:d[2],backgroundColor:"rgba(255, 206, 86, 0.8)"},{label:"Regular",data:d[3],backgroundColor:"rgba(75, 192, 192, 0.8)"},{label:"Malo",data:d[4],backgroundColor:"rgba(255, 99, 132, 0.8)"}]};return c.jsxs("div",{className:"w-full flex flex-col items-center gap-5 p-10",children:[c.jsxs("p",{className:"text-white font-light",children:["Calificaciones del ",c.jsx("strong",{className:"font-bold",children:"Servicio"})," brindado por nuestros ",c.jsx("strong",{className:"font-bold",children:"asesores"})," a nuestros ",c.jsx("strong",{className:"font-bold",children:"asociados"}),"."]}),c.jsxs("div",{className:"flex flex-col justify-center items-center border-2 p-5 rounded-lg w-[95%] h-auto",children:[c.jsx("h4",{className:"text-white font-bold",children:"Calificación sobre el Servicio Brindado"}),c.jsx(M,{data:g,options:L})]})]})}function te(n){let r=[],u=[],i=[],a=[],s=[];for(const o of n)r.push(o[0]),u.push(o[1]),i.push(o[2]),a.push(o[3]),s.push(o[4]);return[r,u,i,a,s]}function F(n,r,u,i){const a=new Date;let s=a.getFullYear(),o=i===0?a.getMonth()+1:a.getMonth(),l;o==0?(s=a.getFullYear()-1,l=r.filter(e=>Number(e.date.split("-")[1])===12&&Number(e.date.split("-")[0])===s)):l=r.filter(e=>Number(e.date.split("-")[1])===o&&Number(e.date.split("-")[0])===s),i==2&&(o=a.getMonth()-1,o<0?l=r.filter(e=>Number(e.date.split("-")[1])>=12+o):l=r.filter(e=>Number(e.date.split("-")[1])>=o));let d=[];for(const e of n)if(e.sucursal===u){let g=[l.filter(t=>t.adviser==e.cc&&t.score_service==="Excelente").length,l.filter(t=>t.adviser==e.cc&&t.score_service==="Bueno").length,l.filter(t=>t.adviser==e.cc&&t.score_service==="Normal").length,l.filter(t=>t.adviser==e.cc&&t.score_service==="Regular").length,l.filter(t=>t.adviser==e.cc&&t.score_service==="Malo").length];d.push(g)}return d}A.register(w,v,j,S,E,C,T,y);function se({name:n,time:r}){const i=h.filter(t=>t.sucursal===n).map(t=>t.name),[a,s]=f.useState([]);f.useEffect(()=>{async function t(){const m=await N();s(m.data)}t()},[]);const[o,l]=f.useState(P(h,a,n,r)),[d,e]=f.useState(o);f.useEffect(()=>{let t=P(h,a,n,r);l(t)},[n,r,a]),f.useEffect(()=>{let t=ae(o);e(t)},[o]);const g={labels:i,datasets:[{label:"Muy rápido",data:d[0],backgroundColor:"rgba(54, 162, 235, 0.8)"},{label:"Rápido",data:d[1],backgroundColor:"rgba(153, 102, 255, 0.8)"},{label:"Normal",data:d[2],backgroundColor:"rgba(255, 206, 86, 0.8)"},{label:"Lento",data:d[3],backgroundColor:"rgba(75, 192, 192, 0.8)"},{label:"Muy Lento",data:d[4],backgroundColor:"rgba(255, 99, 132, 0.8)"}]};return c.jsxs("div",{className:"w-full flex flex-col items-center gap-5 p-10",children:[c.jsxs("p",{className:"text-white font-light",children:["Calificaciones dadas por nuestros ",c.jsx("strong",{className:"font-bold",children:"asociados"})," en base a su ",c.jsx("strong",{className:"font-bold",children:"tiempo de atencion"})," y de espera en nuestras oficinas."]}),c.jsxs("div",{className:"flex flex-col justify-center items-center border-2 p-5 rounded-lg w-[95%] h-auto",children:[c.jsx("h4",{className:"text-white font-bold",children:"Calificación sobre el Tiempo de Atención"}),c.jsx(M,{data:g,options:L})]})]})}function ae(n){let r=[],u=[],i=[],a=[],s=[];for(const o of n)r.push(o[0]),u.push(o[1]),i.push(o[2]),a.push(o[3]),s.push(o[4]);return[r,u,i,a,s]}function P(n,r,u,i){const a=new Date;let s=a.getFullYear(),o=i===0?a.getMonth()+1:a.getMonth(),l;o==0?(s=a.getFullYear()-1,l=r.filter(e=>Number(e.date.split("-")[1])===12&&Number(e.date.split("-")[0])===s)):l=r.filter(e=>Number(e.date.split("-")[1])===o&&Number(e.date.split("-")[0])===s),i==2&&(o=a.getMonth()-1,o<0?l=r.filter(e=>Number(e.date.split("-")[1])>=12+o):l=r.filter(e=>Number(e.date.split("-")[1])>=o));let d=[];for(const e of n)if(e.sucursal===u){let g=[l.filter(t=>t.adviser==e.cc&&t.score_time==="Muy rápido").length,l.filter(t=>t.adviser==e.cc&&t.score_time==="Rápido").length,l.filter(t=>t.adviser==e.cc&&t.score_time==="Normal").length,l.filter(t=>t.adviser==e.cc&&t.score_time==="Lento").length,l.filter(t=>t.adviser==e.cc&&t.score_time==="Muy Lento").length];d.push(g)}return d}function re({name:n,time:r}){return c.jsxs("div",{className:"flex flex-col w-full items-center pt-5 m-5",children:[c.jsx("h2",{className:"text-white text-2xl font-bold",children:"Calificaciones dadas por nuestros asociados"}),c.jsx("p",{className:"text-white w-[800px] text-center p-10",children:"En las siguientes graficas podremos encontrar las calificaciones dadas a cada uno de nuestros asesores en cada sucursal. Calificando el servicio, tiempo, solicitud atendida y si recomendarian coovitela cada un amigo o conocido."}),c.jsxs("div",{className:"flex flex-wrap gap-10 m-5 justify-center items-center",children:[c.jsx(ee,{name:n,time:r}),c.jsx(se,{name:n,time:r}),c.jsx(H,{name:n,time:r}),c.jsx(Q,{name:n,time:r})]})]})}const R=["text-[rgb(121,173,220)]","text-[rgb(255,192,159)]","text-[rgb(255,238,147)]","text-[rgb(255,255,255)]","text-[rgb(132,220,198)]","text-[rgb(165,255,214)]","text-[rgb(97,244,222)]","text-[rgb(101,203,238)]","text-[rgb(104,182,254)]","text-[rgb(245,92,122)]","text-[rgb(245,124,115)]","text-[rgb(246,140,112)]","text-[rgb(246,172,119)]","text-[rgb(241,255,196)]","text-[rgb(167,190,211)]","text-[rgb(251,226,196)]","text-[rgb(255,202,175)]","text-[rgb(218,184,148)]","text-[rgb(112,214,255)]","text-[rgb(255,112,166)]"],D=["rgb(121,173,220)","rgb(255,192,159)","rgb(255,238,147)","rgb(255,255,255)","rgb(132,220,198)","rgb(165,255,214)","rgb(97,244,222)","rgb(101,203,238)","rgb(104,182,254)","rgb(245,92,122)","rgb(245,124,115)","rgb(246,140,112)","rgb(246,172,119)","rgb(241,255,196)","rgb(167,190,211)","rgb(251,226,196)","rgb(255,202,175)","rgb(218,184,148)","rgb(112,214,255)","rgb(255,112,166)"];A.register(w,G,v,j,S,E,C,T,y);function oe({name:n,time:r}){const[u,i]=f.useState([]),[a,s]=f.useState([]),[o,l]=f.useState(),[d,e]=f.useState([]);f.useEffect(()=>{async function b(){const p=await N();s(p.data)}b()},[]),f.useEffect(()=>{let b=le(n,r,a);i(b),e(ne(n,b,h)),l(n==="all"?"Todas las Sucursales":n)},[n,r,a]);let g=[],t=[],m=[];for(let b=0;b<d.length;b++)g.push(d[b].name),t.push(d[b].await),m.push(d[b].atten);let x=[],B=[];for(let b=0;b<g.length;b++)B.push($(t[b])),x.push($(m[b]));const U=u.map(b=>b.date),V=[...new Set(U)];let O=[],k=[];for(let b=0;b<g.length;b++)O.push(Object.values(t[b])),k.push(Object.values(m[b]));const Z=ce(V,O,k,g);return c.jsxs("div",{className:"flex flex-col items-center w-full p-10",children:[c.jsx("p",{className:"text-white text-center p-5",children:"Es muy importante conocer los tiempos de atencion brindados por cada uno de nuestros asesores. Por lo cual tenemos los tiempos promedio de espera y atención de cada uno, en cada una de nuestras sucursales."}),c.jsxs("div",{className:"flex flex-col justify-center items-center border-2 p-5 rounded-lg w-[95%] h-auto",children:[c.jsxs("h4",{className:"text-white font-bold",children:["Tiempo de Espera en ",o]}),c.jsx(J,{data:Z,options:q}),c.jsx("div",{className:"flex flex-wrap gap-6 pt-4 items-center justify-center",children:g.map((b,p)=>c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("h4",{className:`${R[p]} text-sm text-center`,children:b}),c.jsxs("h4",{className:`${R[p]} text-sm text-center`,children:["EP:  ",B[p].toFixed(2)," Min"]}),c.jsxs("h4",{className:`${R[p]} text-sm text-center`,children:["AP:  ",x[p].toFixed(2)," Min"]})]},b))})]})]})}function le(n,r,u){const i=new Date;let a=i.getFullYear(),s=r===0?i.getMonth()+1:i.getMonth(),o=u.filter(l=>Number(l.date.split("-")[1])===s);return s==0?(a=i.getFullYear()-1,o=u.filter(l=>Number(l.date.split("-")[1])===12&&Number(l.date.split("-")[0])===a)):o=u.filter(l=>Number(l.date.split("-")[1])===s&&Number(l.date.split("-")[0])===a),r==2&&(s=i.getMonth()-1,s<0?o=u.filter(l=>Number(l.date.split("-")[1])>=12+s):o=u.filter(l=>Number(l.date.split("-")[1])>=s)),n==="all"?o:o.filter(l=>l.city===n)}function $(n){return Object.values(n).reduce((r,u)=>r+u,0)/Object.values(n).length}function z(n,r,u,i){return n.reduce((a,s)=>{if(s[r]&&s[u]&&s.adviser==i){let o=s[r].substring(0,10),l=s[u].substring(0,10);if(s.date==o&&s.date==l){let d=new Date(s[r]),g=(new Date(s[u]).getTime()-d.getTime())/6e4;a[s.date]?a[s.date]=(a[s.date]+g)/2:a[s.date]=g}}return a},{})}function ne(n,r,u){let i=[];for(let a of u){let s={name:"",await:0,atten:0};a.sucursal===n&&(s.name=a.name,s.await=z(r,"arrival_time","await_time",a.cc),s.atten=z(r,"await_time","atention_time",a.cc),i.push(s))}return i}function ce(n,r,u,i){let a=[];for(let s=0;s<i.length;s++)a.push({label:`Tiempo de espera ${i[s]}`,data:r[s],borderColor:D[s],pointBackgroundColor:D[s],tension:.3}),a.push({label:`Tiempo de Atención ${i[s]}`,data:u[s],borderColor:D[s],pointBackgroundColor:D[s],tension:.3});return{labels:n,datasets:a}}function ge(){const n=f.useRef(null),[r,u]=f.useState([]),i=r.map(m=>m.city),a=[...new Set(i)],[s,o]=f.useState("Bogotá"),[l,d]=f.useState(0);f.useEffect(()=>{async function m(){const x=await N();u(x.data)}m()},[]),f.useEffect(()=>{let m;const x=()=>{clearTimeout(m),n.current&&(n.current.style.opacity=1),m=setTimeout(()=>{n.current&&(n.current.style.opacity=0)},500)};return window.addEventListener("scroll",x,{capture:!0}),()=>{window.removeEventListener("scroll",x,{capture:!0})}},[]);function e(m,x){o(m),d(x)}function g(){n.current&&(n.current.style.opacity=1)}function t(){n.current&&(n.current.style.opacity=0)}return c.jsxs("div",{className:"flex flex-col gap-10 justify-center items-center",children:[c.jsxs("nav",{ref:n,onMouseEnter:g,onMouseLeave:t,className:"flex flex-col p-3 px-20 mt-5 fixed top-0 bg-zinc-700 rounded-lg items-center transition duration-500 opacity-0 hover:opacity-100",children:[c.jsx("ul",{className:"flex flex-row gap-10",children:a.map(m=>c.jsx("button",{className:s===m?"text-white text-xl":"text-zinc-400 hover:scale-110  hover:text-white",onClick:()=>e(m,l),children:m},m))}),c.jsxs("ul",{className:"flex flex-row gap-10 text-zinc-400",children:[c.jsx("button",{className:l===0?"text-white text-xl":"text-zinc-400 hover:scale-110 hover:text-white",onClick:()=>e(s,0),children:"Mes Actual"}),c.jsx("button",{className:l===1?"text-white text-xl":"text-zinc-400 hover:scale-110 hover:text-white",onClick:()=>e(s,1),children:"Ultimo mes"}),c.jsx("button",{className:l===2?"text-white text-xl":"text-zinc-400 hover:scale-110 hover:text-white",onClick:()=>e(s,2),children:"Ultimos 3 meses"})]})]}),c.jsx("h1",{className:"text-white text-3xl p-5 border-b-[3px]",children:"Graficos y Estadisticas Asesores"}),c.jsx("h2",{className:"text-white",children:"Es importante conocer el servicio y la antencion brindada de cada uno de nuestros asesores."}),c.jsx("h3",{className:"text-white",children:"Por lo que acontinuación encontraremos un analisis y datos obtenidos por cada uno de ellos en cada una de sus sucursales."}),c.jsx(W,{name:s,time:l}),c.jsx(re,{name:s,time:l}),c.jsx(oe,{name:s,time:l})]})}export{ge as default};
