import{j as c,g as N}from"./turns.4589a0ea.js";import{r as f}from"./index.72123234.js";import{C as w,a as v,P as j,A,L as S,B as E,p as C,b as y,c as T,d as M,f as Z,g as J}from"./index.f8b4ff70.js";import{a as L,o as q}from"./options.f2ef4408.js";const h=[{cc:1033747211,name:"LORENA RINCON",sucursal:"Bogotá",turns:""},{cc:1022349157,name:"ALEJANDRA CUBIDES",sucursal:"Bogotá",turns:""},{cc:1014199690,name:"LEIDY RODRIGUEZ",sucursal:"Bogotá",turns:""},{cc:52188010,name:"CLAUDIA PERILLA",sucursal:"Bogotá",turns:""},{cc:52655240,name:"ANA CECILIA MORERA",sucursal:"Bogotá",turns:""},{cc:80828401,name:"OSCAR DIAZ",sucursal:"Bogotá",turns:""},{cc:11435721,name:"FLAVIO SILVA",sucursal:"Bogotá",turns:""},{cc:1022370278,name:"VANNESA JIMENE",sucursal:"Bogotá",turns:""},{cc:1030625331,name:"PAOLA GONZALEZ",sucursal:"Bogotá",turns:""},{cc:1030661456,name:"DANIELA CUENCA",sucursal:"Bogotá",turns:""},{cc:80239145,name:"ANDY VARGAS",sucursal:"Bogotá",turns:""},{cc:1014227435,name:"CAMILO MORENO",sucursal:"Bogotá",turns:""},{cc:1099544827,name:"YIS MORENO",sucursal:"Tunja",turns:""},{cc:40023301,name:"BETTY PEROLLA",sucursal:"Tunja",turns:""},{cc:1049608012,name:"JENNY SALINAS",sucursal:"Tunja",turns:""}];w.register(v,j,A,S,E,C,y,T);function O(l,a,u,i){const o=new Date;let n=o.getFullYear(),r=i===0?o.getMonth()+1:o.getMonth(),s;r==0?(n=o.getFullYear()-1,s=a.filter(e=>Number(e.date.split("-")[1])===12&&Number(e.date.split("-")[0])===n)):s=a.filter(e=>Number(e.date.split("-")[1])===r&&Number(e.date.split("-")[0])===n),i==2&&(r=o.getMonth()-1,r<0?s=a.filter(e=>Number(e.date.split("-")[1])>=12+r):s=a.filter(e=>Number(e.date.split("-")[1])>=r));let d=[];for(const e of l)e.sucursal===u&&(e.turns=s.filter(g=>g.adviser==e.cc).length,d.push(e));return d}function W({name:l,time:a}){const[u,i]=f.useState([]);f.useEffect(()=>{async function e(){const g=await N();i(g.data)}e()},[]);const[o,n]=f.useState(O(h,u,l,a));f.useEffect(()=>{n(O(h,u,l,a))},[l,a,u]);const r=o.map(e=>e.name),s=o.map(e=>e.turns),d={labels:r,datasets:[{data:s,backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(183, 46, 168, 0.5)","rgba(72, 209, 168, 0.5)","rgba(12, 22, 34, 0.5)","rgba(45, 112, 232, 0.5)","rgba(220, 19, 0, 0.5)","rgba(22, 67, 111, 0.5)"],borderColor:["rgba(255, 99, 132)","rgba(183, 46, 168)","rgba(72, 209, 168)","rgba(72, 209, 0)","rgba(220, 19, 0)","rgba(255, 99, 132)","rgba(183, 46, 168)","rgba(72, 209, 168)"],borderWidth:2}]};return c.jsxs("div",{className:"w-full flex flex-col items-center gap-5 p-10",children:[c.jsx("p",{className:"text-white w-98 font-light",children:"En esta grafica podemos encontrar el numero de turnos tomados por cada uno de nuestros asesores en su sucursal."}),c.jsxs("div",{className:"flex flex-col justify-center items-center border-2 p-5 rounded-lg w-[90%] h-auto",children:[c.jsx("h4",{className:"text-white font-bold",children:"Cantidad de turnos tomados por cada Asesor"}),c.jsx(M,{data:d,options:L})]})]})}w.register(v,j,A,S,E,C,y,T);function Q({name:l,time:a}){const i=h.filter(t=>t.sucursal===l).map(t=>t.name),[o,n]=f.useState([]);f.useEffect(()=>{async function t(){const b=await N();n(b.data)}t()},[]);const[r,s]=f.useState(I(h,o,l,a)),[d,e]=f.useState(r);f.useEffect(()=>{let t=I(h,o,l,a);s(t)},[l,a,o]),f.useEffect(()=>{let t=H(r);e(t)},[r]);const g={labels:i,datasets:[{label:"Si",data:d[0],backgroundColor:"rgba(54, 162, 235, 0.8)"},{label:"No",data:d[1],backgroundColor:"rgba(255, 99, 132, 0.8)"}]};return c.jsxs("div",{className:"w-full flex flex-col items-center gap-5 p-10",children:[c.jsxs("p",{className:"text-white font-light",children:["Evaluamos si la solicitud realizada por nuestros ",c.jsx("strong",{className:"font-bold",children:"asociados"})," fue resuelta por nuestros ",c.jsx("strong",{className:"font-bold",children:"asesores"}),"."]}),c.jsxs("div",{className:"flex flex-col justify-center items-center border-2 p-5 rounded-lg w-[95%] h-auto",children:[c.jsx("h4",{className:"text-white font-bold",children:"Calificación de solución de la Solicitud"}),c.jsx(M,{data:g,options:L})]})]})}function H(l){let a=[],u=[];for(const i of l)a.push(i[0]),u.push(i[1]);return[a,u]}function I(l,a,u,i){const o=new Date;let n=o.getFullYear(),r=i===0?o.getMonth()+1:o.getMonth(),s;r==0?(n=o.getFullYear()-1,s=a.filter(e=>Number(e.date.split("-")[1])===12&&Number(e.date.split("-")[0])===n)):s=a.filter(e=>Number(e.date.split("-")[1])===r&&Number(e.date.split("-")[0])===n),i==2&&(r=o.getMonth()-1,r<0?s=a.filter(e=>Number(e.date.split("-")[1])>=12+r):s=a.filter(e=>Number(e.date.split("-")[1])>=r));let d=[];for(const e of l)if(e.sucursal===u){let g=[s.filter(t=>t.adviser==e.cc&&t.score_att==="Si").length,s.filter(t=>t.adviser==e.cc&&t.score_att==="No").length];d.push(g)}return d}w.register(v,j,A,S,E,C,y,T);function K({name:l,time:a}){const i=h.filter(t=>t.sucursal===l).map(t=>t.name),[o,n]=f.useState([]);f.useEffect(()=>{async function t(){const b=await N();n(b.data)}t()},[]);const[r,s]=f.useState(Y(h,o,l,a)),[d,e]=f.useState(r);f.useEffect(()=>{let t=Y(h,o,l,a);s(t)},[l,a,o]),f.useEffect(()=>{let t=X(r);e(t)},[r]);const g={labels:i,datasets:[{label:"Si",data:d[0],backgroundColor:"rgba(54, 162, 235, 0.8)"},{label:"Tal vez",data:d[1],backgroundColor:"rgba(255, 206, 86, 0.8)"},{label:"No",data:d[2],backgroundColor:"rgba(255, 99, 132, 0.8)"}]};return c.jsxs("div",{className:"w-full flex flex-col items-center gap-5 p-10",children:[c.jsxs("p",{className:"text-white font-light",children:["Queremos saber si nuestros ",c.jsx("strong",{className:"font-bold",children:"Asociados recomendarían"})," a un amigo o conocido a ser parte de nuestra familia."]}),c.jsxs("div",{className:"flex flex-col justify-center items-center border-2 p-5 rounded-lg w-[95%]",children:[c.jsx("h4",{className:"text-white font-bold",children:"Recomendación de nuestros Asociados a un amigo o conocido."}),c.jsx(M,{data:g,options:L})]})]})}function X(l){let a=[],u=[],i=[];for(const o of l)a.push(o[0]),u.push(o[1]),i.push(o[2]);return[a,u]}function Y(l,a,u,i){const o=new Date;let n=o.getFullYear(),r=i===0?o.getMonth()+1:o.getMonth(),s;r==0?(n=o.getFullYear()-1,s=a.filter(e=>Number(e.date.split("-")[1])===12&&Number(e.date.split("-")[0])===n)):s=a.filter(e=>Number(e.date.split("-")[1])===r&&Number(e.date.split("-")[0])===n),i==2&&(r=o.getMonth()-1,r<0?s=a.filter(e=>Number(e.date.split("-")[1])>=12+r):s=a.filter(e=>Number(e.date.split("-")[1])>=r));let d=[];for(const e of l)if(e.sucursal===u){let g=[s.filter(t=>t.adviser==e.cc&&t.score_recommen==="Si").length,s.filter(t=>t.adviser==e.cc&&t.score_recommen==="Tal vez").length,s.filter(t=>t.adviser==e.cc&&t.score_recommen==="No").length];d.push(g)}return d}w.register(v,j,A,S,E,C,y,T);function ee({name:l,time:a}){const i=h.filter(t=>t.sucursal===l).map(t=>t.name),[o,n]=f.useState([]);f.useEffect(()=>{async function t(){const b=await N();n(b.data)}t()},[]);const[r,s]=f.useState(F(h,o,l,a)),[d,e]=f.useState(r);f.useEffect(()=>{let t=F(h,o,l,a);s(t)},[l,a,o]),f.useEffect(()=>{let t=te(r);e(t)},[r]);const g={labels:i,datasets:[{label:"Excelente",data:d[0],backgroundColor:"rgba(54, 162, 235, 0.8)"},{label:"Buena",data:d[1],backgroundColor:"rgba(153, 102, 255, 0.8)"},{label:"Normal",data:d[2],backgroundColor:"rgba(255, 206, 86, 0.8)"},{label:"Regular",data:d[3],backgroundColor:"rgba(75, 192, 192, 0.8)"},{label:"Malo",data:d[4],backgroundColor:"rgba(255, 99, 132, 0.8)"}]};return c.jsxs("div",{className:"w-full flex flex-col items-center gap-5 p-10",children:[c.jsxs("p",{className:"text-white font-light",children:["Calificaciones del ",c.jsx("strong",{className:"font-bold",children:"Servicio"})," brindado por nuestros ",c.jsx("strong",{className:"font-bold",children:"asesores"})," a nuestros ",c.jsx("strong",{className:"font-bold",children:"asociados"}),"."]}),c.jsxs("div",{className:"flex flex-col justify-center items-center border-2 p-5 rounded-lg w-[95%] h-auto",children:[c.jsx("h4",{className:"text-white font-bold",children:"Calificación sobre el Servicio Brindado"}),c.jsx(M,{data:g,options:L})]})]})}function te(l){let a=[],u=[],i=[],o=[],n=[];for(const r of l)a.push(r[0]),u.push(r[1]),i.push(r[2]),o.push(r[3]),n.push(r[4]);return[a,u,i,o,n]}function F(l,a,u,i){const o=new Date;let n=o.getFullYear(),r=i===0?o.getMonth()+1:o.getMonth(),s;r==0?(n=o.getFullYear()-1,s=a.filter(e=>Number(e.date.split("-")[1])===12&&Number(e.date.split("-")[0])===n)):s=a.filter(e=>Number(e.date.split("-")[1])===r&&Number(e.date.split("-")[0])===n),i==2&&(r=o.getMonth()-1,r<0?s=a.filter(e=>Number(e.date.split("-")[1])>=12+r):s=a.filter(e=>Number(e.date.split("-")[1])>=r));let d=[];for(const e of l)if(e.sucursal===u){let g=[s.filter(t=>t.adviser==e.cc&&t.score_service==="Excelente").length,s.filter(t=>t.adviser==e.cc&&t.score_service==="Bueno").length,s.filter(t=>t.adviser==e.cc&&t.score_service==="Normal").length,s.filter(t=>t.adviser==e.cc&&t.score_service==="Regular").length,s.filter(t=>t.adviser==e.cc&&t.score_service==="Malo").length];d.push(g)}return d}w.register(v,j,A,S,E,C,y,T);function se({name:l,time:a}){const i=h.filter(t=>t.sucursal===l).map(t=>t.name),[o,n]=f.useState([]);f.useEffect(()=>{async function t(){const b=await N();n(b.data)}t()},[]);const[r,s]=f.useState($(h,o,l,a)),[d,e]=f.useState(r);f.useEffect(()=>{let t=$(h,o,l,a);s(t)},[l,a,o]),f.useEffect(()=>{let t=ae(r);e(t)},[r]);const g={labels:i,datasets:[{label:"Muy rápido",data:d[0],backgroundColor:"rgba(54, 162, 235, 0.8)"},{label:"Rápido",data:d[1],backgroundColor:"rgba(153, 102, 255, 0.8)"},{label:"Normal",data:d[2],backgroundColor:"rgba(255, 206, 86, 0.8)"},{label:"Lento",data:d[3],backgroundColor:"rgba(75, 192, 192, 0.8)"},{label:"Muy Lento",data:d[4],backgroundColor:"rgba(255, 99, 132, 0.8)"}]};return c.jsxs("div",{className:"w-full flex flex-col items-center gap-5 p-10",children:[c.jsxs("p",{className:"text-white font-light",children:["Calificaciones dadas por nuestros ",c.jsx("strong",{className:"font-bold",children:"asociados"})," en base a su ",c.jsx("strong",{className:"font-bold",children:"tiempo de atención"})," y de espera en nuestras oficinas."]}),c.jsxs("div",{className:"flex flex-col justify-center items-center border-2 p-5 rounded-lg w-[95%] h-auto",children:[c.jsx("h4",{className:"text-white font-bold",children:"Calificación sobre el Tiempo de Atención"}),c.jsx(M,{data:g,options:L})]})]})}function ae(l){let a=[],u=[],i=[],o=[],n=[];for(const r of l)a.push(r[0]),u.push(r[1]),i.push(r[2]),o.push(r[3]),n.push(r[4]);return[a,u,i,o,n]}function $(l,a,u,i){const o=new Date;let n=o.getFullYear(),r=i===0?o.getMonth()+1:o.getMonth(),s;r==0?(n=o.getFullYear()-1,s=a.filter(e=>Number(e.date.split("-")[1])===12&&Number(e.date.split("-")[0])===n)):s=a.filter(e=>Number(e.date.split("-")[1])===r&&Number(e.date.split("-")[0])===n),i==2&&(r=o.getMonth()-1,r<0?s=a.filter(e=>Number(e.date.split("-")[1])>=12+r):s=a.filter(e=>Number(e.date.split("-")[1])>=r));let d=[];for(const e of l)if(e.sucursal===u){let g=[s.filter(t=>t.adviser==e.cc&&t.score_time==="Muy rápido").length,s.filter(t=>t.adviser==e.cc&&t.score_time==="Rápido").length,s.filter(t=>t.adviser==e.cc&&t.score_time==="Normal").length,s.filter(t=>t.adviser==e.cc&&t.score_time==="Lento").length,s.filter(t=>t.adviser==e.cc&&t.score_time==="Muy Lento").length];d.push(g)}return d}function re({name:l,time:a}){return c.jsxs("div",{className:"flex flex-col w-full items-center pt-5 m-5",children:[c.jsx("h2",{className:"text-white text-2xl font-bold",children:"Calificaciones dadas por nuestros asociados"}),c.jsx("p",{className:"text-white w-[800px] text-center p-10",children:"En las siguientes graficas podremos encontrar las calificaciones dadas a cada uno de nuestros asesores en cada sucursal. Calificando el servicio, tiempo, solicitud atendida y si recomendarían coovitel a cada un amigo o conocido."}),c.jsxs("div",{className:"flex flex-wrap gap-10 m-5 justify-center items-center",children:[c.jsx(ee,{name:l,time:a}),c.jsx(se,{name:l,time:a}),c.jsx(Q,{name:l,time:a}),c.jsx(K,{name:l,time:a})]})]})}const k=["text-[rgb(121,173,220)]","text-[rgb(255,192,159)]","text-[rgb(255,238,147)]","text-[rgb(255,255,255)]","text-[rgb(132,220,198)]","text-[rgb(165,255,214)]","text-[rgb(97,244,222)]","text-[rgb(101,203,238)]","text-[rgb(104,182,254)]","text-[rgb(245,92,122)]","text-[rgb(245,124,115)]","text-[rgb(246,140,112)]","text-[rgb(246,172,119)]","text-[rgb(241,255,196)]","text-[rgb(167,190,211)]","text-[rgb(251,226,196)]","text-[rgb(255,202,175)]","text-[rgb(218,184,148)]","text-[rgb(112,214,255)]","text-[rgb(255,112,166)]"],D=["rgb(121,173,220)","rgb(255,192,159)","rgb(255,238,147)","rgb(255,255,255)","rgb(132,220,198)","rgb(165,255,214)","rgb(97,244,222)","rgb(101,203,238)","rgb(104,182,254)","rgb(245,92,122)","rgb(245,124,115)","rgb(246,140,112)","rgb(246,172,119)","rgb(241,255,196)","rgb(167,190,211)","rgb(251,226,196)","rgb(255,202,175)","rgb(218,184,148)","rgb(112,214,255)","rgb(255,112,166)"];w.register(v,Z,j,A,S,E,C,y,T);function oe({name:l,time:a}){const[u,i]=f.useState([]),[o,n]=f.useState([]),[r,s]=f.useState(),[d,e]=f.useState([]);f.useEffect(()=>{async function m(){const p=await N();n(p.data)}m()},[]),f.useEffect(()=>{let m=le(l,a,o);i(m),e(ce(l,m,h)),s(l==="all"?"Todas las Sucursales":l)},[l,a,o]);let g=[],t=[],b=[];for(let m=0;m<d.length;m++)g.push(d[m].name),t.push(d[m].await),b.push(d[m].atten);let x=[],B=[];for(let m=0;m<g.length;m++)B.push(z(t[m])),x.push(z(b[m]));const U=u.map(m=>m.date),G=[...new Set(U)];let R=[],_=[];for(let m=0;m<g.length;m++)R.push(Object.values(t[m])),_.push(Object.values(b[m]));const V=ie(G,R,_,g);return c.jsxs("div",{className:"flex flex-col items-center w-full p-10",children:[c.jsx("p",{className:"text-white text-center p-5",children:"Es muy importante conocer los tiempos de atención brindados por cada uno de nuestros asesores. Por lo cual tenemos los tiempos promedio de espera y atención de cada uno, en cada una de nuestras sucursales."}),c.jsxs("div",{className:"flex flex-col justify-center items-center border-2 p-5 rounded-lg w-[95%] h-auto",children:[c.jsxs("h4",{className:"text-white font-bold",children:["Tiempo de Espera en ",r]}),c.jsx(J,{data:V,options:q}),c.jsx("div",{className:"flex flex-wrap gap-6 pt-4 items-center justify-center",children:g.map((m,p)=>c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("h4",{className:`${k[p]} text-sm text-center`,children:m}),c.jsxs("h4",{className:`${k[p]} text-sm text-center`,children:["EP:  ",B[p].toFixed(2)," Min"]}),c.jsxs("h4",{className:`${k[p]} text-sm text-center`,children:["AP:  ",x[p].toFixed(2)," Min"]})]},m))})]})]})}function le(l,a,u){const i=new Date;let o=i.getFullYear(),n=a===0?i.getMonth()+1:i.getMonth(),r=u.filter(s=>Number(s.date.split("-")[1])===n);return n==0?(o=i.getFullYear()-1,r=u.filter(s=>Number(s.date.split("-")[1])===12&&Number(s.date.split("-")[0])===o)):r=u.filter(s=>Number(s.date.split("-")[1])===n&&Number(s.date.split("-")[0])===o),a==2&&(n=i.getMonth()-1,n<0?r=u.filter(s=>Number(s.date.split("-")[1])>=12+n):r=u.filter(s=>Number(s.date.split("-")[1])>=n)),l==="all"?r:r.filter(s=>s.city===l)}function z(l){return Object.values(l).reduce((a,u)=>a+u,0)/Object.values(l).length}function ne(l){return l.map(u=>u.date)}function P(l,a,u,i){const o=ne(l);let n={};return o.forEach(r=>{n[r]=0}),l.reduce((r,s)=>{if(s[a]&&s[u]&&s.adviser==i){let d=s[a].substring(0,10),e=s[u].substring(0,10);if(s.date==d&&s.date==e){let g=new Date(s[a]),b=(new Date(s[u]).getTime()-g.getTime())/6e4;n[s.date]?n[s.date]=(n[s.date]+b)/2:n[s.date]=b}}return r},{}),n}function ce(l,a,u){let i=[];for(let o of u){let n={name:"",await:0,atten:0};o.sucursal===l&&(n.name=o.name,n.await=P(a,"arrival_time","await_time",o.cc),n.atten=P(a,"await_time","atention_time",o.cc),i.push(n))}return i}function ie(l,a,u,i){let o=[];for(let n=0;n<i.length;n++)o.push({label:`Tiempo de espera ${i[n]}`,data:a[n],borderColor:D[n],pointBackgroundColor:D[n],tension:.3}),o.push({label:`Tiempo de Atención ${i[n]}`,data:u[n],borderColor:D[n],pointBackgroundColor:D[n],tension:.3});return{labels:l,datasets:o}}function be(){const l=f.useRef(null),[a,u]=f.useState([]),i=a.map(b=>b.city),o=[...new Set(i)],[n,r]=f.useState("Bogotá"),[s,d]=f.useState(0);f.useEffect(()=>{async function b(){const x=await N();u(x.data)}b()},[]),f.useEffect(()=>{let b;const x=()=>{clearTimeout(b),l.current&&(l.current.style.opacity=1),b=setTimeout(()=>{l.current&&(l.current.style.opacity=0)},500)};return window.addEventListener("scroll",x,{capture:!0}),()=>{window.removeEventListener("scroll",x,{capture:!0})}},[]);function e(b,x){r(b),d(x)}function g(){l.current&&(l.current.style.opacity=1)}function t(){l.current&&(l.current.style.opacity=0)}return c.jsxs("div",{className:"flex flex-col gap-10 justify-center items-center",children:[c.jsxs("nav",{ref:l,onMouseEnter:g,onMouseLeave:t,className:"flex flex-col p-3 px-20 mt-5 fixed top-0 bg-zinc-700 rounded-lg items-center transition duration-500 opacity-0 hover:opacity-100",children:[c.jsx("ul",{className:"flex flex-row gap-10",children:o.map(b=>c.jsx("button",{className:n===b?"text-white text-xl":"text-zinc-400 hover:scale-110  hover:text-white",onClick:()=>e(b,s),children:b},b))}),c.jsxs("ul",{className:"flex flex-row gap-10 text-zinc-400",children:[c.jsx("button",{className:s===0?"text-white text-xl":"text-zinc-400 hover:scale-110 hover:text-white",onClick:()=>e(n,0),children:"Mes Actual"}),c.jsx("button",{className:s===1?"text-white text-xl":"text-zinc-400 hover:scale-110 hover:text-white",onClick:()=>e(n,1),children:"Ultimo mes"}),c.jsx("button",{className:s===2?"text-white text-xl":"text-zinc-400 hover:scale-110 hover:text-white",onClick:()=>e(n,2),children:"Ultimos 3 meses"})]})]}),c.jsx("h1",{className:"text-white text-3xl p-5 border-b-[3px]",children:"Gráficos y Estadísticas Asesores"}),c.jsx("h2",{className:"text-white",children:"Es importante conocer el servicio y la antención brindada de cada uno de nuestros asesores."}),c.jsx("h3",{className:"text-white",children:"Por lo que a continuación encontraremos un análisis y datos obtenidos por cada uno de ellos en cada una de sus sucursales."}),c.jsx(W,{name:n,time:s}),c.jsx(re,{name:n,time:s}),c.jsx(oe,{name:n,time:s})]})}export{be as default};
